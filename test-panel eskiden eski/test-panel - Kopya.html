<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Stok Yönetim CRUD Test Paneli</title>
  <style>
    body { font-family: monospace; margin: 24px; background: #f8f8f8; }
    fieldset { margin-bottom: 20px; }
    label { display: inline-block; width: 120px; }
    input, select, button, textarea { margin: 4px 0; }
    .result { background: #fff; border: 1px solid #ccc; padding: 8px; margin-top: 8px; }
    .flex { display: flex; gap: 24px; }
    .column { flex: 1; }
    .hidden { display: none; }
    .userbar { margin-bottom: 20px; background: #eef; padding: 8px; border-radius: 5px; }
    table { border-collapse: collapse; width: 100%; font-size: 13px; background: #fff; }
    th, td { border: 1px solid #aaa; padding: 4px 8px; }
    th { background: #f0f0f0; }
    tr:nth-child(even) { background: #f9f9f9; }
    button { cursor: pointer; }
  </style>
</head>
<body>
<h1>Stok Yönetim CRUD Test Paneli</h1>
<p>API URL: <input id="apiurl" value="http://localhost:3001" size="30"></p>

<div class="flex">

  <!-- Sol Sütun: Mağaza, Kullanıcı ve Login -->
  <div class="column">
    <!-- Mağaza İşlemleri -->
    <fieldset>
      <legend>Mağaza (Stores)</legend>
      <form id="storeForm">
        <input type="hidden" name="id" id="storeId">
        <label>Adı:</label><input required name="name" id="storeName"><br>
        <label>Adres:</label><input name="address" id="storeAddress"><br>
        <button type="submit" id="storeSaveBtn">Ekle</button>
        <button type="button" id="storeCancelBtn" class="hidden">İptal</button>
      </form>
      <button type="button" id="storesListBtn">Listele</button>
      <div id="storesResult" class="result"></div>
    </fieldset>
    <!-- Kullanıcı İşlemleri -->
    <fieldset>
      <legend>Kullanıcı (Users)</legend>
      <form id="userForm">
        <input type="hidden" name="id" id="userId">
        <label>Kullanıcı Adı:</label><input required name="username" id="username"><br>
        <label>Şifre:</label><input required name="password" type="password" id="password"><br>
        <label>Rol:</label>
        <select name="role" id="role">
          <option value="admin">admin</option>
          <option value="patron">patron</option>
          <option value="calisan">calisan</option>
        </select><br>
        <label>Store ID:</label><input name="store_id" id="store_id"><br>
        <button type="submit" id="userSaveBtn">Ekle</button>
        <button type="button" id="userCancelBtn" class="hidden">İptal</button>
      </form>
      <button type="button" id="usersListBtn">Listele</button>
      <div id="usersResult" class="result"></div>
    </fieldset>
    <!-- Login Alanı (sol ALTTA) -->
    <fieldset id="loginFieldset">
      <legend>Giriş Yap</legend>
      <form id="loginForm">
        <label>Kullanıcı Adı:</label> <input name="username" required autocomplete="username">
        <label>Şifre:</label> <input name="password" type="password" required autocomplete="current-password">
        <button type="submit">Login Ol</button>
      </form>
      <div id="loginStatus"></div>
      <div id="loginResult" class="result"></div>
    </fieldset>
    <!-- Kullanıcı Bilgisi ve Logout -->
    <div id="userbar" class="userbar hidden">
      <span id="userStatus"></span>
      <button type="button" id="logoutBtn">Logout Ol</button>
    </div>
  </div>

  <!-- Orta Sütun: Ürün -->
  <div class="column">
    <fieldset>
      <legend>Ürün (Products)</legend>
      <form id="productForm">
        <input type="hidden" name="id" id="productId">
        <label>Ad:</label><input required name="name" id="productName"><br>
        <label>Marka:</label><input name="brand" id="productBrand"><br>
        <label>Model:</label><input name="model" id="productModel"><br>
        <label>IMEI:</label><input name="imei" id="productIMEI"><br>
        <label>Adet:</label><input name="quantity" type="number" id="productQuantity"><br>
        <label>Min Adet:</label><input name="min_quantity" type="number" id="productMinQuantity"><br>
        <label>Alış Fiyatı:</label><input name="purchase_price" type="number" id="productPurchasePrice"><br>
        <label>Satış Fiyatı:</label><input name="sale_price" type="number" id="productSalePrice"><br>
        <button type="submit" id="productSaveBtn">Ekle</button>
        <button type="button" id="productCancelBtn" class="hidden">İptal</button>
      </form>
      <button type="button" id="productsListBtn">Listele</button>
      <div id="productsResult" class="result"></div>
    </fieldset>
  </div>
  <!-- Sağ Sütun: Müşteri ve Satış -->
  <div class="column">
    <fieldset>
      <legend>Müşteri (Customers)</legend>
      <form id="customerForm">
        <input type="hidden" name="id" id="customerId">
        <label>Ad:</label><input required name="name" id="customerName"><br>
        <label>Email:</label><input name="email" id="customerEmail"><br>
        <label>Adres:</label><input name="address" id="customerAddress"><br>
        <label>Doğum Tarihi:</label><input name="birthdate" type="date" id="customerBirthdate"><br>
        <label>TC No:</label><input name="tc_no" id="customerTC"><br>
        <button type="submit" id="customerSaveBtn">Ekle</button>
        <button type="button" id="customerCancelBtn" class="hidden">İptal</button>
      </form>
      <button type="button" id="customersListBtn">Listele</button>
      <div id="customersResult" class="result"></div>
    </fieldset>
    <fieldset>
      <legend>Satış (Sales)</legend>
      <form id="saleForm">
        <input type="hidden" name="id" id="saleId">
        <label>Ürün:</label>
        <input id="productSearch" name="product_id" list="productOptions" autocomplete="off" required>
        <datalist id="productOptions"></datalist><br>
        <label>Müşteri:</label>
        <input id="customerSearch" name="customer_id" list="customerOptions" autocomplete="off">
        <datalist id="customerOptions"></datalist><br>
        <label>Adet:</label><input required name="quantity" type="number" id="saleQuantity"><br>
        <label>Satış Fiyatı:</label><input required name="sale_price" type="number" id="salePrice"><br>
        <label>IMEI:</label><input name="imei" id="saleIMEI"><br>
        <button type="submit" id="saleSaveBtn">Ekle</button>
        <button type="button" id="saleCancelBtn" class="hidden">İptal</button>
      </form>
      <button type="button" id="salesListBtn">Listele</button>
      <div id="salesResult" class="result"></div>
    </fieldset>
  </div>
</div>
<script src="test-panel.js"></script>
</body>
</html>